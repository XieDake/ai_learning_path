# 1. 目标检测应用-行人检测
> 本系列内容基本来自目标检测综述论文《Recent Advances in Deep Learning for Object Detection》\
> 下载地址：https://arxiv.org/pdf/1908.03673.pdf

&emsp;&emsp;行人检测是任何智能视频监控系统中必不可少的重要任务。与普通目标检测不同，行人检测的某些属性与普通目标检测不同：
- i）行人物体是结构良好的物体，其纵横比几乎固定（约为1.5），但它们也存在很大比例范围；
- ii）行人检测是现实应用，因此通常会出现诸如拥挤，遮挡和模糊等挑战。例如，在CityPersons数据集中，验证集中共有3157个行人标注，其中标注重叠IOU大于0.1的有48.8%。此外，所有行人标注重叠IOU大于0.3的有26.4％。频繁的人群遮挡会损害行人检测器的性能；
- iii）由于环境复杂，行人检测中存在更多的难例负样本（例如交通信号灯，邮箱等）。

## 1.1. 传统的行人检测方法
&emsp;&emsp;在深度学习时代之前，行人检测算法主要是利用带有滑动窗口策略的整体通道特征来定位对象，然后再使用诸如支持向量机的分类器。早期的工作主要集中在设计用于分类的健壮特征描述符上。例如，Dalal和Triggs提出了方向梯度直方图（the histograms of oriented gradient，HOG）描述符，而Paisitkriangkrai等人则设计了基于低级视觉线索和空间汇集特征的特征描述符。这些方法在行人检测基准上显示出可喜的结果，但主要基于手工制作的功能。

## 1.2. 深度学习的行人检测方法
&emsp;&emsp;基于深度学习的行人检测方法显示了出色的性能，并在公共基准上取得了最先进的结果。

### 1.2.1. 基于多尺度的优化
&emsp;&emsp;Angelova等提出了一种使用级联的深层卷积网络的实时行人检测框架。在他们的工作中，一个简单的模型排除了许多简单的负样本，然后通过一个大型的深层网络对其余的难例提名进行了分类。

&emsp;&emsp;Zhang等提出了基于决策树的框架。在他们的方法中，使用多尺度特征图提取行人特征，然后将其输入到增强型决策树中进行分类。与FC层相比，增强型决策树将自举策略用于挖掘难例负样本并获得了更好的性能。

&emsp;&emsp;Li等人为减少尺度变化大的影响，提出了Scale-aware Fast R-CNN（SAF RCNN），它将多个内置网络插入整个检测框架，使用不同的子网检测到了不同比例的行人实例。

&emsp;&emsp;此外，Yang等将 Scale Dependent Pooling (SDP) 和 Cascaded Rejection Classifiers (CRC)插入到Fast RCNN中以处理行人比例问题。根据实例的高度，SDP从合适的比例尺特征图中提取区域特征，而CRC排除浅层中的简单负样本。

### 1.2.2. 基于目标函数的优化
&emsp;&emsp;Wang等提出了一种新颖的Repulsion Loss来检测人群中的行人。他们认为，在人群中检测到行人会使行人对NMS阈值非常敏感，从而导致更多的误报和漏报。提出的repulsion loss将提名推入其目标对象，但也将其从其他对象及其目标提名中拉取。

&emsp;&emsp;基于上面的想法，Zhang等人提出了一种通过Aggression Loss进行优化的 Occlusion-aware R-CNN（OR-CNN）。新的损失函数鼓励提名更接近目标和具有相同目标的其他提名。

&emsp;&emsp;Mao等人声称将额外的特征适当地聚集到行人检测器中可以提高检测精度。在他们的论文中，他们探索了可用于提高准确性的各种额外功能，并提出了使用这些功能的新方法。新提出的组件HyperLearner通过共同优化的方式将额外的功能聚集到了检测器中，并且在推理阶段不需要额外的输入。

### 1.2.3. 针对遮挡的优化
&emsp;&emsp;对于行人检测，最重要的挑战之一是处理遮挡。一种简单的方法是使用基于部件的模型，该模型学习一系列部件检测器并整合部件检测器的结果以对对象进行定位和分类。

&emsp;&emsp;Tian等提出了由多个部件检测器组成的DeepParts。在训练过程中，会从覆盖身体所有比例部分的部件池（part pool）中自动选择重要的身体部位，并针对每个选定的部位学习检测器来处理遮挡。

&emsp;&emsp;为了避免积分不准确的部件模型分数，Ouyang和Wang提出了一个框架，该模型在训练模型时将可见部件建模为隐藏变量。在他们的论文中，重叠部分的可见关系是通过有区别的深度模型来学习的，而不是手动定义甚至是独立的。

&emsp;&emsp;后来，Ouyang等人从另一个方面解决了这个问题。他们提出了一个混合网络（mixture network ）来捕获由拥挤的行人形成的独特视觉信息。为了增强对单行人检测器的最终预测，通过单行人检测器和多行人检测器，一个概率框架用来对估计的配置进行建模。

&emsp;&emsp;Zhang等提出了一个遮挡感知（Occlusion-aware）的ROI池化层，它将行人的先验结构信息和可见性预测集成到最终的特征表示中。原始区域分为五个部分，每个部分的子网都通过学习的可见性得分增强了原始区域的功能，以更好地表示。

&emsp;&emsp;Zhou等提出了Bi-box，该Bi-box通过回归两个边界框，同时估计行人检测和可见部分，一个包围整个身体，另一个包围可见部分。此外，提出了一种新的正样本采样标准，以偏置具有较大可见面积的正样本训练实例，这在训练遮挡感知检测器方面显示出了有效性。
